# Structured Concurrency
스코프가 명시적으로 지정되어 있지 않다면, 코루틴은 컨텍스트와 부모 코루틴의 스코프에서 실행된다.
이를 Structured Concurrency라고 한다.
코루틴의 계층구조가 코드의 구조와 일치할 때 일어난다.

계층관계에 속하는 코루틴은 아래의 룰과 규정된 동작을 한다.
- 코루틴에서 컨텍스트를 공유하는 새로운 코루틴을 생성하면 새 코루틴은 기존 코루틴의 자식으로 간주된다
- 부모 코루틴은 자식 코루틴이 완료되어야만 완료될 수 있다
- 부모 코루틴을 취소하면 모든 자식 코루틴이 취소된다
- 서스펜션 포인트에 진입한 코루틴은 서스펜션 포인트에서 던져진 CancellationException을 받을 수 있다
- 실행되고 있는 코루틴이 서스펜션 포인트에 진입하지 않은 경우 isActive 프로퍼티 에 접근하여 코루틴의 상태를 확인할 수 있다
- 정리해야 할 자원을 가진 코루틴은 finally 블록에서 자원을 정리해야 한다
- 처리되지 않은 예외는 코루틴을 취소시킨다
- 자식 코루틴이 정지하면 부모 코루틴이 정지하므로 형제 코루틴도 취소된다  
이런 동작은 부모에서 자식으로만 단뱡항으로 취소가 가능하게 만드는 SupervisorJob을 통해서 변경할 수 있다
